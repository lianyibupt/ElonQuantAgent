<div align="center">

![QuantAgent Banner](assets/banner.png)
<h2>QuantAgent: åŸºäºä»·æ ¼é©±åŠ¨çš„å¤šæ™ºèƒ½ä½“å¤§è¯­è¨€æ¨¡å‹é«˜é¢‘äº¤æ˜“ç³»ç»Ÿ</h2>

</div>



<div align="center">

<div style="position: relative; text-align: center; margin: 20px 0;">
  <div style="position: absolute; top: -10px; right: 20%; font-size: 1.2em;"></div>
  <p>
    <a href="https://machineily.github.io/">Fei Xiong</a><sup>1,2 â˜…</sup>&nbsp;
    <a href="https://wyattz23.github.io">Xiang Zhang</a><sup>3 â˜…</sup>&nbsp;
    <a href="https://intersun.github.io/">Siqi Sun</a><sup>4</sup>&nbsp;
    <a href="https://chenyuyou.me/">Chenyu You</a><sup>1</sup>
  </p>
  
  
  <p>
    <sup>1</sup> Stony Brook University &nbsp;&nbsp; 
    <sup>2</sup> Carnegie Mellon University &nbsp;&nbsp;
    <sup>3</sup> University of British Columbia &nbsp;&nbsp; <br>
    <sup>4</sup> Fudan University &nbsp;&nbsp; 
    â˜… Equal Contribution <br>
  </p>
</div>

<div align="center" style="margin: 20px 0;">
  <a href="README.md">English</a> | <a href="README_CN.md">ä¸­æ–‡</a>
</div>

<br>

[![GitHub stars](https://img.shields.io/github/stars/Y-Research-SBU/QuantAgent?style=flat&logo=github)](https://github.com/Y-Research-SBU/QuantAgent/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/Y-Research-SBU/QuantAgent?style=flat&logo=github)](https://github.com/Y-Research-SBU/QuantAgent/forks)
[![Pull Requests](https://img.shields.io/github/issues-pr/Y-Research-SBU/QuantAgent?label=Pull%20Requests&logo=gitbook)](https://github.com/Y-Research-SBU/QuantAgent/pulls)

[![GitHub issues](https://img.shields.io/github/issues/Y-Research-SBU/QuantAgent?style=flat&logo=github)](https://github.com/Y-Research-SBU/QuantAgent/issues)
[![GitHub contributors](https://img.shields.io/github/contributors/Y-Research-SBU/QuantAgent?style=flat&color=2b9348&logo=github)](https://github.com/Y-Research-SBU/QuantAgent/graphs/contributors)
[![GitHub license](https://img.shields.io/github/license/Y-Research-SBU/QuantAgent?style=flat&color=2b9348&logo=open-source-initiative)](https://github.com/Y-Research-SBU/QuantAgent/blob/main/LICENSE)
[![WeChat](https://img.shields.io/badge/WeChat-07C160?style=flat&logo=wechat&logoColor=white)](assets/wechat.jpg)

</div>

ä¸€ä¸ªå¤æ‚çš„å¤šæ™ºèƒ½ä½“äº¤æ˜“åˆ†æç³»ç»Ÿï¼Œç»“åˆäº†æŠ€æœ¯æŒ‡æ ‡ã€æ¨¡å¼è¯†åˆ«å’Œè¶‹åŠ¿åˆ†æï¼Œä½¿ç”¨ LangChain å’Œ LangGraphã€‚è¯¥ç³»ç»Ÿæä¾›ç½‘ç»œç•Œé¢å’Œç¨‹åºåŒ–è®¿é—®ï¼Œç”¨äºå…¨é¢çš„å¸‚åœºåˆ†æã€‚

<div align="center">

ğŸš€ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) | âš¡ [å®‰è£…](#-å®‰è£…) | ğŸ¬ [ä½¿ç”¨](#-ä½¿ç”¨) | ğŸ”§ [å®ç°ç»†èŠ‚](#-å®ç°ç»†èŠ‚) | ğŸ¤ [è´¡çŒ®](#-è´¡çŒ®) | ğŸ“„ [è®¸å¯è¯](#-è®¸å¯è¯)

</div>

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### æŒ‡æ ‡æ™ºèƒ½ä½“

â€¢ è®¡ç®—ä¸€å¥—æŠ€æœ¯æŒ‡æ ‡â€”â€”åŒ…æ‹¬ç”¨äºè¯„ä¼°åŠ¨é‡æå€¼çš„ RSIã€ç”¨äºé‡åŒ–æ”¶æ•›-å‘æ•£åŠ¨æ€çš„ MACDï¼Œä»¥åŠç”¨äºæµ‹é‡æ”¶ç›˜ä»·ç›¸å¯¹äºæœ€è¿‘äº¤æ˜“èŒƒå›´çš„éšæœºæŒ¯è¡å™¨â€”â€”åœ¨æ¯ä¸ªä¼ å…¥çš„ K çº¿ä¸Šï¼Œå°†åŸå§‹ OHLC æ•°æ®è½¬æ¢ä¸ºç²¾ç¡®çš„ã€ä¿¡å·å°±ç»ªçš„æŒ‡æ ‡ã€‚

![æŒ‡æ ‡æ™ºèƒ½ä½“](assets/indicator.png)
  
### æ¨¡å¼æ™ºèƒ½ä½“

â€¢ åœ¨æ¨¡å¼æŸ¥è¯¢æ—¶ï¼Œæ¨¡å¼æ™ºèƒ½ä½“é¦–å…ˆç»˜åˆ¶æœ€è¿‘çš„ä»·æ ¼å›¾è¡¨ï¼Œè¯†åˆ«å…¶ä¸»è¦é«˜ç‚¹ã€ä½ç‚¹å’Œæ€»ä½“ä¸Šå‡æˆ–ä¸‹é™èµ°åŠ¿ï¼Œå°†è¯¥å½¢çŠ¶ä¸ä¸€ç»„ç†Ÿæ‚‰çš„æ¨¡å¼è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è¿”å›æœ€ä½³åŒ¹é…çš„ç®€çŸ­ã€é€šä¿—è¯­è¨€æè¿°ã€‚

![æ¨¡å¼æ™ºèƒ½ä½“](assets/pattern.png)
  
### è¶‹åŠ¿æ™ºèƒ½ä½“

â€¢ åˆ©ç”¨å·¥å…·ç”Ÿæˆçš„å¸¦æ³¨é‡Šçš„ K çº¿å›¾è¡¨ï¼Œå åŠ æ‹Ÿåˆçš„è¶‹åŠ¿é€šé“â€”â€”è¿½è¸ªæœ€è¿‘é«˜ç‚¹å’Œä½ç‚¹çš„ä¸Šä¸‹è¾¹ç•Œçº¿â€”â€”æ¥é‡åŒ–å¸‚åœºæ–¹å‘ã€é€šé“æ–œç‡å’Œç›˜æ•´åŒºåŸŸï¼Œç„¶åæä¾›å½“å‰è¶‹åŠ¿çš„ç®€æ´ã€ä¸“ä¸šçš„æ€»ç»“ã€‚

![è¶‹åŠ¿æ™ºèƒ½ä½“](assets/trend.png)

### å†³ç­–æ™ºèƒ½ä½“

â€¢ ç»¼åˆæŒ‡æ ‡ã€æ¨¡å¼ã€è¶‹åŠ¿å’Œé£é™©æ™ºèƒ½ä½“çš„è¾“å‡ºâ€”â€”åŒ…æ‹¬åŠ¨é‡æŒ‡æ ‡ã€æ£€æµ‹åˆ°çš„å›¾è¡¨å½¢æ€ã€é€šé“åˆ†æå’Œé£é™©-å›æŠ¥è¯„ä¼°â€”â€”åˆ¶å®šå¯æ“ä½œçš„äº¤æ˜“æŒ‡ä»¤ï¼Œæ˜ç¡®æŒ‡å®šåšå¤šæˆ–åšç©ºå¤´å¯¸ã€æ¨èçš„å…¥åœºå’Œå‡ºåœºç‚¹ã€æ­¢æŸé˜ˆå€¼ï¼Œä»¥åŠåŸºäºæ¯ä¸ªæ™ºèƒ½ä½“å‘ç°çš„ç®€æ´ç†ç”±ã€‚

![å†³ç­–æ™ºèƒ½ä½“](assets/decision.png)

### ç½‘ç»œç•Œé¢
åŸºäº Flask çš„ç°ä»£ç½‘ç»œåº”ç”¨ç¨‹åºï¼Œå…·æœ‰ï¼š
  - æ¥è‡ªé›…è™è´¢ç»çš„å®æ—¶å¸‚åœºæ•°æ®
  - äº¤äº’å¼èµ„äº§é€‰æ‹©ï¼ˆè‚¡ç¥¨ã€åŠ å¯†è´§å¸ã€å•†å“ã€æŒ‡æ•°ï¼‰
  - å¤šæ—¶é—´æ¡†æ¶åˆ†æï¼ˆ1åˆ†é’Ÿåˆ°1å¤©ï¼‰
  - åŠ¨æ€å›¾è¡¨ç”Ÿæˆ
  - API å¯†é’¥ç®¡ç†

## ğŸ“¦ å®‰è£…

### 1. åˆ›å»ºå¹¶æ¿€æ´» Conda ç¯å¢ƒ

```bash
conda create -n quantagents python=3.10
conda activate quantagents
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

å¦‚æœæ‚¨é‡åˆ° TA-lib-python çš„é—®é¢˜ï¼Œè¯·å°è¯•ï¼š

```bash
conda install -c conda-forge ta-lib
```

æˆ–è®¿é—® [TA-Lib Python ä»“åº“](https://github.com/ta-lib/ta-lib-python) è·å–è¯¦ç»†çš„å®‰è£…è¯´æ˜ã€‚

### 3. è®¾ç½® OpenAI API å¯†é’¥
æ‚¨å¯ä»¥åœ¨æˆ‘ä»¬çš„ç½‘ç»œç•Œé¢ä¸­ç¨åè®¾ç½®å®ƒï¼Œ
![API å¯†é’¥è®¾ç½®](assets/apibox.png)

æˆ–å°†å…¶è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼š
```bash
export OPENAI_API_KEY="your_api_key_here"
```

## ğŸ”§ å®ç°ç»†èŠ‚

æˆ‘ä»¬ä½¿ç”¨ LangGraph æ„å»º QuantAgents ä»¥ç¡®ä¿çµæ´»æ€§å’Œæ¨¡å—åŒ–ã€‚æˆ‘ä»¬ä½¿ç”¨ gpt-4o å’Œ gpt-4o-mini ä½œä¸ºæˆ‘ä»¬çš„æ·±åº¦æ€è€ƒå’Œå¿«é€Ÿæ€è€ƒ LLM è¿›è¡Œå®éªŒã€‚ä½†æ˜¯ï¼Œå‡ºäºæµ‹è¯•ç›®çš„ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨ gpt-4o-mini æ¥èŠ‚çœæˆæœ¬ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ¡†æ¶ä¼šè¿›è¡Œå¤§é‡ API è°ƒç”¨ã€‚

**é‡è¦è¯´æ˜**ï¼šæˆ‘ä»¬çš„æ¨¡å‹éœ€è¦ä¸€ä¸ªå¯ä»¥æ¥å—å›¾åƒè¾“å…¥çš„ LLMï¼Œå› ä¸ºæˆ‘ä»¬çš„æ™ºèƒ½ä½“ä¼šç”Ÿæˆå’Œåˆ†æè§†è§‰å›¾è¡¨ä»¥è¿›è¡Œæ¨¡å¼è¯†åˆ«å’Œè¶‹åŠ¿åˆ†æã€‚

### Python ä½¿ç”¨

è¦åœ¨ä»£ç ä¸­ä½¿ç”¨ QuantAgentsï¼Œæ‚¨å¯ä»¥å¯¼å…¥ trading_graph æ¨¡å—å¹¶åˆå§‹åŒ– TradingGraph() å¯¹è±¡ã€‚.invoke() å‡½æ•°å°†è¿”å›å…¨é¢çš„åˆ†æã€‚æ‚¨å¯ä»¥è¿è¡Œ web_interface.pyï¼Œè¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªå¿«é€Ÿç¤ºä¾‹ï¼š

```python
from trading_graph import TradingGraph

# åˆå§‹åŒ–äº¤æ˜“å›¾
trading_graph = TradingGraph()

# ä½¿ç”¨æ‚¨çš„æ•°æ®åˆ›å»ºåˆå§‹çŠ¶æ€
initial_state = {
    "kline_data": your_dataframe_dict,
    "analysis_results": None,
    "messages": [],
    "time_frame": "4hour",
    "stock_name": "BTC"
}

# è¿è¡Œåˆ†æ
final_state = trading_graph.graph.invoke(initial_state)

# è®¿é—®ç»“æœ
print(final_state.get("final_trade_decision"))
print(final_state.get("indicator_report"))
print(final_state.get("pattern_report"))
print(final_state.get("trend_report"))
```

æ‚¨è¿˜å¯ä»¥è°ƒæ•´é»˜è®¤é…ç½®ä»¥è®¾ç½®æ‚¨è‡ªå·±çš„ LLM é€‰æ‹©ã€åˆ†æå‚æ•°ç­‰ã€‚

```python
from trading_graph import TradingGraph
from default_config import DEFAULT_CONFIG

# åˆ›å»ºè‡ªå®šä¹‰é…ç½®
config = DEFAULT_CONFIG.copy()
config["agent_llm_model"] = "gpt-4o-mini"  # ä¸ºæ™ºèƒ½ä½“ä½¿ç”¨ä¸åŒçš„æ¨¡å‹
config["graph_llm_model"] = "gpt-4o"       # ä¸ºå›¾é€»è¾‘ä½¿ç”¨ä¸åŒçš„æ¨¡å‹
config["agent_llm_temperature"] = 0.2      # è°ƒæ•´æ™ºèƒ½ä½“çš„åˆ›é€ åŠ›æ°´å¹³
config["graph_llm_temperature"] = 0.1      # è°ƒæ•´å›¾é€»è¾‘çš„åˆ›é€ åŠ›æ°´å¹³

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®åˆå§‹åŒ–
trading_graph = TradingGraph(config=config)

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®è¿è¡Œåˆ†æ
final_state = trading_graph.graph.invoke(initial_state)
```

å¯¹äºå®æ—¶æ•°æ®ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ç½‘ç»œç•Œé¢ï¼Œå› ä¸ºå®ƒé€šè¿‡ yfinance æä¾›å¯¹å®æ—¶å¸‚åœºæ•°æ®çš„è®¿é—®ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨è·å–æœ€è¿‘ 30 ä¸ªèœ¡çƒ›å›¾ä»¥è·å¾—æœ€ä½³çš„ LLM åˆ†æå‡†ç¡®æ€§ã€‚

### é…ç½®é€‰é¡¹

ç³»ç»Ÿæ”¯æŒä»¥ä¸‹é…ç½®å‚æ•°ï¼š

- `agent_llm_model`ï¼šå•ä¸ªæ™ºèƒ½ä½“çš„æ¨¡å‹ï¼ˆé»˜è®¤ï¼š"gpt-4o-mini"ï¼‰
- `graph_llm_model`ï¼šå›¾é€»è¾‘å’Œå†³ç­–åˆ¶å®šçš„æ¨¡å‹ï¼ˆé»˜è®¤ï¼š"gpt-4o"ï¼‰
- `agent_llm_temperature`ï¼šæ™ºèƒ½ä½“å“åº”çš„æ¸©åº¦ï¼ˆé»˜è®¤ï¼š0.1ï¼‰
- `graph_llm_temperature`ï¼šå›¾é€»è¾‘çš„æ¸©åº¦ï¼ˆé»˜è®¤ï¼š0.1ï¼‰

**æ³¨æ„**ï¼šç³»ç»Ÿä½¿ç”¨é»˜è®¤çš„ä»¤ç‰Œé™åˆ¶è¿›è¡Œç»¼åˆåˆ†æã€‚ä¸åº”ç”¨äººå·¥ä»¤ç‰Œé™åˆ¶ã€‚

æ‚¨å¯ä»¥åœ¨ `default_config.py` ä¸­æŸ¥çœ‹å®Œæ•´çš„é…ç½®åˆ—è¡¨ã€‚


## ğŸš€ ä½¿ç”¨

### å¯åŠ¨ç½‘ç»œç•Œé¢

```bash
python web_interface.py
```

ç½‘ç»œåº”ç”¨ç¨‹åºå°†åœ¨ `http://127.0.0.1:5000` å¯ç”¨

### ç½‘ç»œç•Œé¢åŠŸèƒ½

1. **èµ„äº§é€‰æ‹©**ï¼šä»å¯ç”¨çš„è‚¡ç¥¨ã€åŠ å¯†è´§å¸ã€å•†å“å’ŒæŒ‡æ•°ä¸­é€‰æ‹©
2. **æ—¶é—´æ¡†æ¶é€‰æ‹©**ï¼šåˆ†æä» 1 åˆ†é’Ÿåˆ°æ¯æ—¥é—´éš”çš„æ•°æ®
3. **æ—¥æœŸèŒƒå›´**ï¼šä¸ºåˆ†æé€‰æ‹©è‡ªå®šä¹‰æ—¥æœŸèŒƒå›´
4. **å®æ—¶åˆ†æ**ï¼šè·å¾—å¸¦æœ‰å¯è§†åŒ–çš„å…¨é¢æŠ€æœ¯åˆ†æ
5. **API å¯†é’¥ç®¡ç†**ï¼šé€šè¿‡ç•Œé¢æ›´æ–°æ‚¨çš„ OpenAI API å¯†é’¥

## ğŸ“º æ¼”ç¤º

![å¿«é€Ÿé¢„è§ˆ](assets/demo.gif)

## ğŸ¤ è´¡çŒ®

1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. è¿›è¡Œæ›´æ”¹
4. å¦‚æœé€‚ç”¨ï¼Œæ·»åŠ æµ‹è¯•
5. æäº¤æ‹‰å–è¯·æ±‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… LICENSE æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

æ­¤ä»“åº“åŸºäº [**LangGraph**](https://github.com/langchain-ai/langgraph)ã€[**OpenAI**](https://github.com/openai/openai-python)ã€[**yfinance**](https://github.com/ranaroussi/yfinance)ã€[**Flask**](https://github.com/pallets/flask)ã€[**TechnicalAnalysisAutomation**](https://github.com/neurotrader888/TechnicalAnalysisAutomation/tree/main) å’Œ [**tvdatafeed**](https://github.com/rongardF/tvdatafeed) æ„å»ºã€‚

## âš ï¸ å…è´£å£°æ˜

æ­¤è½¯ä»¶ä»…ä¾›æ•™è‚²å’Œç ”ç©¶ç›®çš„ä½¿ç”¨ã€‚å®ƒä¸æ—¨åœ¨æä¾›è´¢åŠ¡å»ºè®®ã€‚åœ¨åšå‡ºæŠ•èµ„å†³ç­–ä¹‹å‰ï¼Œè¯·å§‹ç»ˆè¿›è¡Œè‡ªå·±çš„ç ”ç©¶å¹¶è€ƒè™‘å’¨è¯¢è´¢åŠ¡é¡¾é—®ã€‚

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **TA-Lib å®‰è£…**ï¼šå¦‚æœæ‚¨é‡åˆ° TA-Lib å®‰è£…é—®é¢˜ï¼Œè¯·å‚è€ƒ[å®˜æ–¹ä»“åº“](https://github.com/ta-lib/ta-lib-python)è·å–å¹³å°ç‰¹å®šçš„è¯´æ˜ã€‚

2. **OpenAI API å¯†é’¥**ï¼šç¡®ä¿æ‚¨çš„ API å¯†é’¥åœ¨ç¯å¢ƒä¸­æˆ–é€šè¿‡ç½‘ç»œç•Œé¢æ­£ç¡®è®¾ç½®ã€‚

3. **æ•°æ®è·å–**ï¼šç³»ç»Ÿä½¿ç”¨é›…è™è´¢ç»è·å–æ•°æ®ã€‚æŸäº›ç¬¦å·å¯èƒ½ä¸å¯ç”¨æˆ–å†å²æ•°æ®æœ‰é™ã€‚

4. **å†…å­˜é—®é¢˜**ï¼šå¯¹äºå¤§å‹æ•°æ®é›†ï¼Œè€ƒè™‘å‡å°‘åˆ†æçª—å£æˆ–ä½¿ç”¨è¾ƒå°çš„æ—¶é—´æ¡†æ¶ã€‚

### æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·ï¼š
1. æ£€æŸ¥ä¸Šé¢çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æŸ¥çœ‹æ§åˆ¶å°ä¸­çš„é”™è¯¯æ¶ˆæ¯
3. ç¡®ä¿æ‰€æœ‰ä¾èµ–é¡¹éƒ½æ­£ç¡®å®‰è£…
4. éªŒè¯æ‚¨çš„ OpenAI API å¯†é’¥æœ‰æ•ˆä¸”æœ‰è¶³å¤Ÿçš„ç§¯åˆ†

## ğŸ“§ è”ç³»

å¦‚æœ‰é—®é¢˜ã€åé¦ˆæˆ–åˆä½œæœºä¼šï¼Œè¯·è”ç³»ï¼š

**é‚®ç®±**ï¼š[chenyu.you@stonybrook.edu](mailto:chenyu.you@stonybrook.edu)


## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=Y-Research-SBU/QuantAgent&type=Date)](https://www.star-history.com/#Y-Research-SBU/QuantAgent&Date) 